<h1>Site-wide Configuration</h1>

<div class="edit_content_box">

  <% form_tag( { :action => :update_site_settings }, :class => 'formtastic' ) do  %>
  <fieldset class="inputs"><ol>
    <li class="string">
      <label>Title:</label>
      <%= text_field_tag :site_title, site_title, :size => 70 %>
    </li>

    <li class="string">
      <label>Host domain:</label>
      <%= text_field_tag :hostname, SiteSetting.read_setting('hostname') || request.host, :size => 70 %>
    </li>

    <li>
      <label>Logo:</label>
      <%= select_tag :site_logo, options_for_select( images_list, site_logo ) %> 
      <%= image_tag site_logo, :id => 'image_of_logo', :style => 'vertical-align:top; margin-left: 25px;' %>
    </li>
    <li class="text">
      <label>Homepage Text:</label>
      <%= text_area_tag :homepage_text, SiteSetting.read_setting('homepage text'), :cols => 50, :rows => 5,
        :style => "vertical-align:middle; height: 150px; width: 80%; font-size: 90%;" %>
    </li>
    <li class="text">
      <label>Footer:</label>
      <%= text_area_tag :site_footer, site_footer, :cols => 50, :rows => 3,
        :style => "vertical-align:middle; height: 60px; width: 80%; font-size: 90%;" %>
    </li>
    <li>
      <%= submit_tag "save changes" %>
    </li>
  </ol></fieldset>
  <% end %>

</div>

<script type="text/javascript">

  $(document).ready(function() {
    
    $('#site_logo').change( function(e) { $('#image_of_logo')[0].src = '/images/' + e.element().value; }  )     

  });
</script>
